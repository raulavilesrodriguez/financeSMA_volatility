source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(prueba)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(prueba2)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(prueba2)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(rets)
nrow(rets[is.na(rets$MSFT.DailyEqPL), ])
nrow(rets[is.infinite(rets$MSFT.DailyEqPL), ])
charts.PerformanceSummary(rets["2022-01-03/2023-06-08"], colorset = "#DB005B")
charts.PerformanceSummary(rets["2023-01-31/2023-06-08"], colorset = "#DB005B")
charts.PerformanceSummary(rets["2023-02-13/2023-06-08"], colorset = "#DB005B")
charts.PerformanceSummary(rets["2023-03-21/2023-06-08"], colorset = "#DB005B")
sum(rets)
gsub(rets)
help(gsub)
rets <- PortfReturns(Account = account.st)
rownames(rets) <- NULL
rets <- PortfReturns(Account = account.st)
rownames(rets) <- NULL
tab <- table.Arbitrary(as.numeric(rets),
metrics=c(
"Return.cumulative",
"Return.annualized",
"SharpeRatio.annualized",
"CalmarRatio"),
metricsNames=c(
"Cumulative Return",
"Annualized Return",
"Annualized Sharpe Ratio",
"Calmar Ratio"))
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
max(rets)
min(rets)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(mktdata)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(prices)
range(prices$Txn.Qty)
max(prices$Txn.Qty)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
charts.PerformanceSummary(rets, colorset = "#DB005B")
rets[is.na(rets$MSFT.DailyEqPL), ]
nrow(rets[is.na(rets$MSFT.DailyEqPL), ])
nrow(rets[is.infinite(rets$MSFT.DailyEqPL), ])
nrow(rets[is.character(rets$MSFT.DailyEqPL), ])
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
.blotter$portfolio.strat1$summary$Net.Trading.PL
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
instrets <- PortfReturns(portfolio.st)
SharpeRatio.annualized(portpl, geometric = FALSE)
instrets <- PortfReturns(portfolio.st)
SharpeRatio.annualized(instrets, geometric = FALSE)
# evaluate the performance to see how is the return of the trading strategy
rets <- PortfReturns(Account = account.st)
rownames(rets) <- NULL
tab <- table.Arbitrary(rets,
metrics=c(
"Return.cumulative",
"Return.annualized",
"SharpeRatio.annualized",
"CalmarRatio"),
metricsNames=c(
"Cumulative Return",
"Annualized Return",
"Annualized Sharpe Ratio",
"Calmar Ratio"))
tab
charts.PerformanceSummary(rets, colorset = "#DB005B")
runSD(20,30)
#____Install blotter and quantstrat______
# First it is necessary install RTools 4.3 from:
# https://cran.r-project.org/bin/windows/Rtools/
#require(devtools)
#install_github("braverock/blotter")
#library(remotes)
#remotes::install_github("braverock/blotter")
#library(devtools)
#install_local(path = "blotter-master.zip")
#devtools::install_github("braverock/quantstrat")
#___Packages___
library(devtools)
library(blotter)
library(quantstrat)
library(quantmod)
library(FinancialInstrument)
library(PerformanceAnalytics)
library(foreach)
library(tidyverse)
library(dplyr)
library(TTR)
library("IRdisplay")
library(highcharter) #Interactive Plot
library(devtools)
library(yahoofinancer)
runSD(20,30)
runSD(c(1,2,34,2,4,51,2),30)
runSD(c(1,2,34,2,4,51,2),30, sample = FALSE)
runSD(c(1,2,34,2,4,51,2),5, sample = FALSE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
prices <- prices[-1,]
prices.sub <- prices[,c(1:6, 12)]
View(prices.sub)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
View(prices.sub)
View(prices.sub)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
#Interactive Plot
highchart(type="stock") |>
hc_yAxis_multiples(list(title = list(text = "Price"), opposite = FALSE),
list(showLastLabel = FALSE, opposite = TRUE, title = list(text = "Signal"))) |>
hc_add_series(prices.sub[,1:6]) |>
hc_add_series(SMA((prices.sub$Close),n=12),name="SMA(12)") |>
hc_add_series(SMA((prices.sub$Close),n=26),name="SMA(26)") |>
hc_add_series(prices.sub$Txn.Qty, name="Estrategia", yAxis = 1, color = "#F24C3D") |>
hc_title(text=paste0("<b>Prices company: ", symbols[1], "</b>"))
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
prices.sub$Txn.Qty[is.na(prices.sub$Txn.Qty)]
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
source("C:/Users/bravi/projects/financeSMAvolatility/sma_volatility.R", echo=TRUE)
